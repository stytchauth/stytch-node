"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.WebAuthn = void 0;

var _shared = require("../shared");

// !!!
// WARNING: This file is autogenerated
// Only modify code within MANUAL() sections
// or your changes may be overwritten later!
// !!!
class WebAuthn {
  constructor(fetchConfig) {
    this.fetchConfig = fetchConfig;
  }
  /**
   * Initiate the process of creating a new WebAuthn registration. After calling this endpoint, the browser
   * will need to call
   * [navigator.credentials.create()](https://www.w3.org/TR/webauthn-2/#sctn-createCredential) with the data
   * from
   * [public_key_credential_creation_options](https://w3c.github.io/webauthn/#dictionary-makecredentialoptions)
   * passed to the [navigator.credentials.create()](https://www.w3.org/TR/webauthn-2/#sctn-createCredential)
   * request via the public key argument. We recommend using the `create()` wrapper provided by the
   * webauthn-json library.
   *
   * If you are not using the [webauthn-json](https://github.com/github/webauthn-json) library, the
   * `public_key_credential_creation_options` will need to be converted to a suitable public key by
   * unmarshalling the JSON, base64 decoding the user ID field, and converting user ID and the challenge
   * fields into an array buffer.
   */


  registerStart(data) {
    return (0, _shared.request)(this.fetchConfig, {
      method: "POST",
      url: `/v1/webauthn/register/start`,
      data
    });
  }
  /**
   * Complete the creation of a WebAuthn registration by passing the response from the
   * [navigator.credentials.create()](https://www.w3.org/TR/webauthn-2/#sctn-createCredential) request to
   * this endpoint as the `public_key_credential` parameter.
   *
   * If the [webauthn-json](https://github.com/github/webauthn-json) library's `create()` method was used,
   * the response can be passed directly to the
   * [register endpoint](https://stytch.com/docs/api/webauthn-register). If not, some fields (the client data
   * and the attestation object) from the
   * [navigator.credentials.create()](https://www.w3.org/TR/webauthn-2/#sctn-createCredential) response will
   * need to be converted from array buffers to strings and marshalled into JSON.
   */


  register(data) {
    return (0, _shared.request)(this.fetchConfig, {
      method: "POST",
      url: `/v1/webauthn/register`,
      data
    });
  }
  /**
   * Initiate the authentication of a WebAuthn registration. After calling this endpoint, the browser will
   * need to call [navigator.credentials.get()](https://www.w3.org/TR/webauthn-2/#sctn-getAssertion) with the
   * data from `public_key_credential_request_options` passed to the
   * [navigator.credentials.get()](https://www.w3.org/TR/webauthn-2/#sctn-getAssertion) request via the
   * public key argument. We recommend using the `get()` wrapper provided by the webauthn-json library.
   *
   * If you are not using the [webauthn-json](https://github.com/github/webauthn-json) library, `the
   * public_key_credential_request_options` will need to be converted to a suitable public key by
   * unmarshalling the JSON and converting some the fields to array buffers.
   */


  authenticateStart(data) {
    return (0, _shared.request)(this.fetchConfig, {
      method: "POST",
      url: `/v1/webauthn/authenticate/start`,
      data
    });
  }
  /**
   * Complete the authentication of a WebAuthn registration by passing the response from the
   * [navigator.credentials.get()](https://www.w3.org/TR/webauthn-2/#sctn-getAssertion) request to the
   * authenticate endpoint.
   *
   * If the [webauthn-json](https://github.com/github/webauthn-json) library's `get()` method was used, the
   * response can be passed directly to the
   * [authenticate endpoint](https://stytch.com/docs/api/webauthn-authenticate). If not some fields from the
   * [navigator.credentials.get()](https://www.w3.org/TR/webauthn-2/#sctn-getAssertion) response will need to
   * be converted from array buffers to strings and marshalled into JSON.
   */


  authenticate(data) {
    return (0, _shared.request)(this.fetchConfig, {
      method: "POST",
      url: `/v1/webauthn/authenticate`,
      data
    });
  }

}

exports.WebAuthn = WebAuthn;